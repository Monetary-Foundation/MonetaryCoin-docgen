---
id: token_ERC20_MineableM5Token
title: MineableM5Token
---

<div class="contract-doc"><div class="contract"><h2 class="contract-header"><span class="contract-kind">contract</span> MineableM5Token</h2><p class="base-contracts"><span>is</span> <a href="token_ERC20_GDPOraclizedToken.html">GDPOraclizedToken</a></p><p class="description">This contract adds the ability to mine for M5 tokens when growth is negative. The M5 token is a distinct ERC20 token which could be obtained only when the GDP growth is negative. The logic for M5 mining will be determined after all economic considerations were addressed. After upgrading this contract with the final M5 logic, finishUpgrade() will be called to seal the upgradeability permanently.</p><div class="source">Source: <a href="https://github.com/Monetary-Foundation/MonetaryCoin/blob/v1.0.0/contracts/token/ERC20/MineableM5Token.sol" target="_blank">token/ERC20/MineableM5Token.sol</a></div></div><div class="index"><h2>Index</h2><ul><li><a href="token_ERC20_MineableM5Token.html#FinishUpgrade">FinishUpgrade</a></li><li><a href="token_ERC20_MineableM5Token.html#M5Logic">M5Logic</a></li><li><a href="token_ERC20_MineableM5Token.html#M5LogicUpgrade">M5LogicUpgrade</a></li><li><a href="token_ERC20_MineableM5Token.html#M5Token">M5Token</a></li><li><a href="token_ERC20_MineableM5Token.html#M5TokenUpgrade">M5TokenUpgrade</a></li><li><a href="token_ERC20_MineableM5Token.html#Swap">Swap</a></li><li><a href="token_ERC20_MineableM5Token.html#WithdrawM5">WithdrawM5</a></li><li><a href="token_ERC20_MineableM5Token.html#finishUpgrade">finishUpgrade</a></li><li><a href="token_ERC20_MineableM5Token.html#getM5Reward">getM5Reward</a></li><li><a href="token_ERC20_MineableM5Token.html#isUpgradeFinished">isUpgradeFinished</a></li><li><a href="token_ERC20_MineableM5Token.html#onlyUpgradeManager">onlyUpgradeManager</a></li><li><a href="token_ERC20_MineableM5Token.html#swap">swap</a></li><li><a href="token_ERC20_MineableM5Token.html#upgradeM5">upgradeM5</a></li><li><a href="token_ERC20_MineableM5Token.html#upgradeM5Logic">upgradeM5Logic</a></li><li><a href="token_ERC20_MineableM5Token.html#upgradeM5Token">upgradeM5Token</a></li><li><a href="token_ERC20_MineableM5Token.html#upgradeManager">upgradeManager</a></li><li><a href="token_ERC20_MineableM5Token.html#withdrawM5">withdrawM5</a></li></ul></div><div class="reference"><h2>Reference</h2><div class="events"><h3>Events</h3><ul><li><div class="item event"><span id="FinishUpgrade" class="anchor-marker"></span><h4 class="name">FinishUpgrade</h4><div class="body"><code class="signature">event <strong>FinishUpgrade</strong><span>() </span></code><hr/></div></div></li><li><div class="item event"><span id="M5LogicUpgrade" class="anchor-marker"></span><h4 class="name">M5LogicUpgrade</h4><div class="body"><code class="signature">event <strong>M5LogicUpgrade</strong><span>(address oldM5Logic, address newM5Logic) </span></code><hr/><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>oldM5Logic</code> - address</div><div><code>newM5Logic</code> - address</div></dd></dl></div></div></li><li><div class="item event"><span id="M5TokenUpgrade" class="anchor-marker"></span><h4 class="name">M5TokenUpgrade</h4><div class="body"><code class="signature">event <strong>M5TokenUpgrade</strong><span>(address oldM5Token, address newM5Token) </span></code><hr/><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>oldM5Token</code> - address</div><div><code>newM5Token</code> - address</div></dd></dl></div></div></li><li><div class="item event"><span id="Swap" class="anchor-marker"></span><h4 class="name">Swap</h4><div class="body"><code class="signature">event <strong>Swap</strong><span>(address from, uint256 M5Value, uint256 value) </span></code><hr/><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>from</code> - address</div><div><code>M5Value</code> - uint256</div><div><code>value</code> - uint256</div></dd></dl></div></div></li><li><div class="item event"><span id="WithdrawM5" class="anchor-marker"></span><h4 class="name">WithdrawM5</h4><div class="body"><code class="signature">event <strong>WithdrawM5</strong><span>(address from, uint commitment, uint M5Reward) </span></code><hr/><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>from</code> - address</div><div><code>commitment</code> - uint</div><div><code>M5Reward</code> - uint</div></dd></dl></div></div></li></ul></div><div class="modifiers"><h3>Modifiers</h3><ul><li><div class="item modifier"><span id="onlyUpgradeManager" class="anchor-marker"></span><h4 class="name">onlyUpgradeManager</h4><div class="body"><code class="signature">modifier <strong>onlyUpgradeManager</strong><span>() </span></code><hr/><div class="description"><p>Throws if called by any account other than the GDPOracle.</p></div></div></div></li></ul></div><div class="functions"><h3>Functions</h3><ul><li><div class="item function"><span id="M5Logic" class="anchor-marker"></span><h4 class="name">M5Logic</h4><div class="body"><code class="signature">function <strong>M5Logic</strong><span>() </span><span>public </span><span>view </span><span>returns  (address) </span></code><hr/><div class="description"><p>Get the M5 logic contract address.</p></div><dl><dt><span class="label-return">Returns:</span></dt><dd>M5 logic contract address</dd></dl></div></div></li><li><div class="item function"><span id="M5Token" class="anchor-marker"></span><h4 class="name">M5Token</h4><div class="body"><code class="signature">function <strong>M5Token</strong><span>() </span><span>public </span><span>view </span><span>returns  (address) </span></code><hr/><div class="description"><p>Get the M5 token address.</p></div><dl><dt><span class="label-return">Returns:</span></dt><dd>M5 token address</dd></dl></div></div></li><li><div class="item function"><span id="finishUpgrade" class="anchor-marker"></span><h4 class="name">finishUpgrade</h4><div class="body"><code class="signature">function <strong>finishUpgrade</strong><span>() </span><span>public </span><span>returns  (bool) </span></code><hr/><div class="description"><p>Function to dismiss the upgrade capability.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="token_ERC20_MineableM5Token.html#onlyUpgradeManager">onlyUpgradeManager </a></dd><dt><span class="label-return">Returns:</span></dt><dd>True if the operation was successful.</dd></dl></div></div></li><li><div class="item function"><span id="getM5Reward" class="anchor-marker"></span><h4 class="name">getM5Reward</h4><div class="body"><code class="signature">function <strong>getM5Reward</strong><span>(address _miner) </span><span>public </span><span>view </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Calculate the reward if withdrawM5() happans on this block, This is a wrapper, which calls and return result from M5Logic the actual logic is found in the M5Logic contract.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_miner</code> - The address of the _miner</div></dd><dt><span class="label-return">Returns:</span></dt><dd>An uint256 representing the reward amount</dd></dl></div></div></li><li><div class="item function"><span id="isUpgradeFinished" class="anchor-marker"></span><h4 class="name">isUpgradeFinished</h4><div class="body"><code class="signature">function <strong>isUpgradeFinished</strong><span>() </span><span>public </span><span>view </span><span>returns  (bool) </span></code><hr/><div class="description"><p>Get the upgrade status.</p></div><dl><dt><span class="label-return">Returns:</span></dt><dd>the upgrade status. if true, no more upgrades are possible.</dd></dl></div></div></li><li><div class="item function"><span id="swap" class="anchor-marker"></span><h4 class="name">swap</h4><div class="body"><code class="signature">function <strong>swap</strong><span>(uint256 _value) </span><span>public </span><span>returns  (bool) </span></code><hr/><div class="description"><p>Swap M5 tokens back to regular tokens when GDP is back to positive.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_value</code> - The amount of M5 tokens to swap for regular tokens</div></dd><dt><span class="label-return">Returns:</span></dt><dd>true</dd></dl></div></div></li><li><div class="item function"><span id="upgradeM5" class="anchor-marker"></span><h4 class="name">upgradeM5</h4><div class="body"><code class="signature">function <strong>upgradeM5</strong><span>(address newM5Token, address newM5Logic) </span><span>public </span></code><hr/><div class="description"><p>Allows the upgrade the M5 logic contract and token at the same transaction.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="token_ERC20_MineableM5Token.html#onlyUpgradeManager">onlyUpgradeManager </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>newM5Token</code> - The address of a new M5 token</div><div><code>newM5Logic</code> - The address of the new contract</div></dd></dl></div></div></li><li><div class="item function"><span id="upgradeM5Logic" class="anchor-marker"></span><h4 class="name">upgradeM5Logic</h4><div class="body"><code class="signature">function <strong>upgradeM5Logic</strong><span>(address newM5Logic) </span><span>public </span></code><hr/><div class="description"><p>Allows the upgrade the M5 logic contract.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="token_ERC20_MineableM5Token.html#onlyUpgradeManager">onlyUpgradeManager </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>newM5Logic</code> - The address of the new contract</div></dd></dl></div></div></li><li><div class="item function"><span id="upgradeM5Token" class="anchor-marker"></span><h4 class="name">upgradeM5Token</h4><div class="body"><code class="signature">function <strong>upgradeM5Token</strong><span>(address newM5Token) </span><span>public </span></code><hr/><div class="description"><p>Allows to set the M5 token contract.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="token_ERC20_MineableM5Token.html#onlyUpgradeManager">onlyUpgradeManager </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>newM5Token</code> - The address of the new contract</div></dd></dl></div></div></li><li><div class="item function"><span id="upgradeManager" class="anchor-marker"></span><h4 class="name">upgradeManager</h4><div class="body"><code class="signature">function <strong>upgradeManager</strong><span>() </span><span>public </span><span>view </span><span>returns  (address) </span></code><hr/><div class="description"><p>Get the upgrade manager address.</p></div><dl><dt><span class="label-return">Returns:</span></dt><dd>the upgrade manager address</dd></dl></div></div></li><li><div class="item function"><span id="withdrawM5" class="anchor-marker"></span><h4 class="name">withdrawM5</h4><div class="body"><code class="signature">function <strong>withdrawM5</strong><span>() </span><span>public </span><span>returns  (uint256, uint256) </span></code><hr/><div class="description"><p>Withdraw M5 reward, only appied to mining when GDP is negative.</p></div><dl><dt><span class="label-return">Returns:</span></dt><dd>{ &quot;uint256 reward&quot;: the new M5 supply &quot;uint256 commitmentValue&quot;: the commitment to be returned }</dd></dl></div></div></li></ul></div></div></div>
